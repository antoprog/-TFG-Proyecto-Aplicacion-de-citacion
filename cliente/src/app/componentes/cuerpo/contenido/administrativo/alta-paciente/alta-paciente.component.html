<app-cabecera></app-cabecera>
<section id="section_alta">
  <form [formGroup]="insClienteForm" (submit)="onSubmit()">
    <div class="container">
    <legend>DATOS PACIENTE</legend>
      <div class="form-group">
        <label for="nombre">NOMBRE</label><input class="col-sm-2 mt-4 mb-4"type="text"style="margin-right: 2%; margin-left:1%;"formControlName="nombre">
        <span *ngIf="getError('nombre') as message">
          <strong>{{message}}</strong>
        </span>
        <label for="apellido1">APELLIDO</label><input class="col-sm-2" type="text" style="margin-right: 2%; margin-left:1%;" formControlName="apellido1">
        <span *ngIf="getError('apellido1') as message">
          <strong>{{message}}</strong>
        </span>
        <label for="apellido2">SEGUNDO APELLIDO </label><input class="col-sm-2" style="margin-right: 2%; margin-left:1%;" type="text" formControlName="apellido2">
        <span *ngIf="getError('apellido2') as message">
          <strong>{{message}}</strong>
        </span>
      </div>
      <div class="d-flex flex-row">
        <div >
          <label for="tipo_doc" style="margin-right: 3px;">TIPO DE DOCUMENTO:</label>
          <select formControlName="tipo_doc" >
            <option *ngFor="let d of t_doc" [value]="d.nombre">{{d.nombre}}</option>
          </select>
        </div>

        <!--si tipo_doc =DNI -->
        <div *ngIf="insClienteForm.get('tipo_doc')?.value === 'DNI'" style="padding-left: 0.3rem; padding-right: 0.3rem">
         <input  formControlName="documentoDni" type="text" >
          <span *ngIf="getError('documentoDni') as message">
            <strong>{{message}}</strong>
          </span>
        </div>
        <!--si tipo_doc =NIE-->
        <div *ngIf="insClienteForm.get('tipo_doc')?.value === 'NIE'" style="padding-left:0.3rem; padding-right:0.3rem">
        <input  formControlName="documentoNie" type="text" >
          <span *ngIf="getError('documentoNie') as message">
            <strong>{{message}}</strong>
          </span>
        </div>
        <label for="telefono"style="margin-left:1%;">TELEFONO</label><input type="text" style="margin-right:2%; margin-left:1%;" class="col-sm-2" formControlName="telefono">
        <span *ngIf="getError('telefono') as message">
          <strong>{{message}}</strong>
        </span>
        <label for="email">CORREO ELECTRONICO</label><input type="email" style=" margin-right:2%; margin-left:1%;" class="col-sm-2" formControlName="email">
        <span *ngIf="getError('email') as message">
          <strong>{{message}}</strong>
        </span>
          <label for="fecha_nacimiento">FECHA NACIMINETO</label><input type="date" style="margin-right:2%; margin-left:1%;" class="col-sm-2" formControlName="fecha_nacimiento">
          <span *ngIf="getError('fecha_nacimiento') as message">
          <strong>{{message}}</strong>
        </span>
      </div>


      <div class="mt-4 mb-4" >


        <label for="calle">CALLE</label><input type="text" style="margin-right:2%; margin-left:1%;" formControlName="calle">
        <span *ngIf="getError('calle') as message">
            <strong>{{message}}</strong>
        </span>
        <label for="cod_postal">CODIGO POSTAL</label><input type="text" style="margin-right:2%; margin-left:1%;"formControlName="cod_postal">
        <span *ngIf="getError('cod_postal') as message">
            <strong>{{message}}</strong>
        </span>
        <label for="ciudad">CIUDAD</label><input type="text" style="margin-right:2%; margin-left:1%;" formControlName="ciudad">
        <span *ngIf="getError('ciudad') as message">
            <strong>{{message}}</strong>
        </span>

        <label for="provincia">PROVINCIA</label><input type="text" style="margin-right:2%; margin-left:1%;" formControlName="provincia">
        <span *ngIf="getError('provincia') as message">
            <strong>{{message}}</strong>
        </span>
      </div>
    <div class="mt-4 mb-4" >
      <div class="mt-4 mb-4">
        <label for="nombreContacto" style="margin-right:1%;">NOMBRE CONTACTO</label><input type="text"  formControlName="nombreContacto">
        <span *ngIf="getError('nombreContacto') as message">
          <strong>{{message}}</strong>
        </span>
        <label for="telefonoContacto" style="margin-right:1%; margin-left:1%;">TELEFONO CONTACTO</label><input type="tel" formControlName="telefonoContacto">
        <span *ngIf="getError('telefonoContacto') as message">
          <strong>{{message}}</strong>
        </span>
        <label for="psicologo" style="margin-left: 1%;">ASIGNAR PSCOLOGO</label>
        <select formControlName="psicologo"  style=" margin-right:1%; margin-left:1%;">
          <option *ngFor="let p of t_psicologo" [value]="p.nombre">{{p.nombre}}</option>
        </select>
      </div>
      <label for="permisoGrabacion">PERMISO DE GRABACION</label><input  type="checkbox"   style="margin-right:2%; margin-left:1%;"formControlName="permisoGrabacion">
        <label for="firmaProteccionDatos">PROTECCION DE DATOS FIRMADO</label><input type="checkbox"  style="margin-right:2%; margin-left:1%;" formControlName="firmaProteccionDatos">
        <input type="hidden" formControlName="pais" value="EspaÃ±a">
        <label for="aseguradora">ASEGURADORA</label>
        <select formControlName="aseguradora"  style="margin-right:2%; margin-left:1%;">
          <option *ngFor="let i of  t_aseguradora" [value]="i.tipo">{{i.tipo}}</option>
        </select>
        <div *ngIf="insClienteForm.get('aseguradora')?.value === 'COMPAÃ‘IA'">
          <label for="company">COMPAÃ‘IA</label><input type="text" formControlName="company">
        </div>
    </div>
    <button class="btn btn-primary" style="float:right" type="submit" [disabled]="insClienteForm.invalid">Guardar</button>
  </div>
  </form>
   <div class="wrapper">
    <div><b>Es valido el fomulario?: </b>
      <span *ngIf="insClienteForm.valid">âœ”</span>
      <span *ngIf="!insClienteForm.valid">ðŸ”´</span>
    </div>
    <pre>{{insClienteForm.value|json}}</pre>
  </div>
</section>
